# Express

Is a JavaScript framewework thata facilitate us the usaage of the JS runtime enviroment NodeJS.

To make use of it, firstly we have to initialize with `npm init` and add the express dependency to our _package.json_ with the `npm i express` command.

To import it as an `ES6` module we use `import express from "express";`.

## Initialize

Fisrtly, we need to create an Express app with the `express()` function. Which is is a top-level function exported by the express module.

```js
import express from "express";

const app = express();
```

## Listen

To listen in an specific port from our localhost we use:

```js
app.listen(port, anonymousFunction);
```

## GET

To use the method `get` we have to definied it above from our `listen` method. It parameters are:

- `path`
- `callback function` with `req` and `res` parameters
- Inside the `callback function` we can send a response with `res.send()`

**Example**

```js
app.get("/", (req, res) => {
    res.send("<h1>Hello, Elliot!</h1>");
});
```

To get a website in _response_ to the _request_ we have to use the method `sendFile` instead. This method **takes** as parameter an **absolute** path, which can be generated by the concatenation between `__dirname` and the `/file.html`.

```js
app.get("/", (req, res) => {
    res.sendFile(__dirname + "/index.html");
});
```

### POST

To use the `POST` method, if we are using it on a `form` element we have to set the `method` parameter to `post` and the `action` parameter to the URL that processes the form submission.

```html
<form action="/" method="post">
    <input type="text" name="num1" placeholder="First number">
    <input type="text" name="num2" placeholder="Second number">
    <button type="submit" name="submit">Calculate</button>
</form>
```

Then we need to add the `express` and `body-parser` dependencies to our **package.json** and import them into our _JS File_. To facilitate us the obtention of values we use the `urlencoded` method from `bodyParser`.

When we define our `POST` method we have to pass as parameter the url that processes the submission. We can recover the sended data using `req.body.data` and give a response with the `send` method from `res`.

```js
app.post("/", (req, res) => {
    var num1 = Number(req.body.num1);
    var num2 = Number(req.body.num2);

    res.send("The result is: " + (num1 + num2));
});
```